server:
  port: 8080

spring:
  application:
    name: healthcare-realtime-analytics-platform
  datasource:
    url: jdbc:postgresql://localhost:5432/healthcare_platform
    username: healthcare_app
    password: change_me
    hikari:
      maximum-pool-size: 30
      minimum-idle: 10
      connection-timeout: 5000
      idle-timeout: 30000
      leak-detection-threshold: 2000
      max-lifetime: 1800000
  jpa:
    hibernate:
      ddl-auto: update
    properties:
      hibernate:
        default_schema: app
  thymeleaf:
    cache: false

management:
  endpoints:
    web:
      exposure:
        include: "health,info,prometheus"
  endpoint:
    prometheus:
      enabled: true
  metrics:
    enable:
      http:
        server: true
    distribution:
      percentiles-histogram:
        http:
          server:
            requests: true

logging:
  level:
    dev.healthcare.analytics.platform.api: DEBUG
    dev.healthcare.analytics.platform.domain.appointment: DEBUG

platform:
  stream-pipeline:
    outbox-poll-interval-ms: 1000
    outbox-batch-size: 500
  simulation:
    enabled: false
  appointment-queue:
    enabled: true
    capacity: 500
    worker-count: 2
    offer-timeout-ms: 50
  dashboard:
    max-sse-clients: 20
